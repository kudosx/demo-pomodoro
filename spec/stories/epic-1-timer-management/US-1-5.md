# US-1.5: Hoàn thành phiên làm việc

**Epic:** [Timer Management](EPIC.md)
**Trạng thái:** ✅ Done
**Độ ưu tiên:** Critical

---

## Mô tả

```
Là một người dùng,
Tôi muốn được thông báo khi hết thời gian,
Để tôi biết khi nào cần nghỉ ngơi hoặc tiếp tục làm việc.
```

## Tiêu chí chấp nhận

- [x] Notification panel đẹp mắt khi `timeLeft === 0`
- [x] Work: "Session Complete! Great work! Time to take a break."
- [x] Break: "Break is Over! Ready to focus? Let's get back to work!"
- [x] Tự động dừng bộ đếm
- [x] Phiên được ghi vào timeline via `addToTimeline()`
- [x] Session count tăng lên (chỉ với Work mode)
- [x] Khi kết thúc phiên làm việc: tạm dừng music hiện tại và phát `sound/end/end-sound-effect-3911.mp3` ở background
- [x] Music controls vẫn hiển thị khi notification panel mở

## Technical Notes

- Check `timeLeft === 0` trong interval callback
- `addToTimeline(currentMode)` ghi lịch sử
- `sessions++` và update DOM
- `playEndSound()` tạm dừng music và phát end sound effect
- `showNotification(type)` hiển thị custom notification panel
- Panel có gradient background khác nhau cho work/break

## Known Limitations

- Không có desktop/push notifications

## RICE Score

| Reach | Impact | Confidence | Effort | Score |
|-------|--------|------------|--------|-------|
| 100% | 3 | 100% | 0.3w | 1000 |
