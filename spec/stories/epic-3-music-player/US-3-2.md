# US-3.2: Chọn mood nhạc

**Epic:** [Music Player](EPIC.md)
**Trạng thái:** ✅ Done
**Độ ưu tiên:** High

---

## Mô tả

```
Là một người dùng,
Tôi muốn chọn giữa nhạc Calm và Energy,
Để tôi có âm nhạc phù hợp với trạng thái làm việc.
```

## Tiêu chí chấp nhận

- [x] 2 nút mood trên thanh điều khiển:
  - Calm: 16 bài (sounds/peaceful/)
  - Energy: 13 bài (sounds/energetic/)
- [x] Chuyển mood thay đổi playlist ngay lập tức
- [x] Nếu đang phát, chuyển sang bài đầu playlist mới
- [x] Mood active có background màu đỏ (#e74c3c)
- [x] Preference được load từ `preferences.js` khi khởi động

## Technical Notes

- `MUSIC` object chứa 2 arrays: peaceful, energetic
- `setMood(mood)` function
- `loadPreferences()` đọc từ `PREFERENCES.music.mood`
- Shuffle mỗi khi chọn mood: `shuffleArray(MUSIC[mood])`

## RICE Score

| Reach | Impact | Confidence | Effort | Score |
|-------|--------|------------|--------|-------|
| 70% | 2 | 100% | 0.3w | 467 |
